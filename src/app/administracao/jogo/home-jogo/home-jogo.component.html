<section class="content conteudo2">
    <div class="container-fluid">
        <div class="block-header">
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <ul class="breadcrumb breadcrumb-style ">
                        <li class="breadcrumb-item">
                            <h4 class="page-title">Jogo</h4>
                        </li>
                        <li class="breadcrumb-item bcrumb-1">
                            <a routerLink="/admin/dashboard/main">
                                <i class="fas fa-home"></i> Home</a>
                        </li>
                        <li class="breadcrumb-item bcrumb-2">
                            <a href="#" onClick="return false;">Jogo</a>
                        </li>
                        <li class="breadcrumb-item active">Home Jogos</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row clearfix" style="margin-top: 140px;">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="card">
                    <div class="header">
                        <h2>Jogos <a routerLink="['novo']"><i  class="fas fa-plus-circle ml-2 " style="color: #5783c7; font-size: 1.2em;"></i></a> </h2>
                       
                    </div>
    
                    <div class="body">
                        <div class="d-flex flex-column  align-form mb-3">

                            <div class="mb-4 fill-sm">
                                <label class="mr-3"> Filtro: </label>
                                <mat-radio-group [(ngModel)]="filterRadio" [formControl]="filtro" aria-label="Selecione um filtro">
                                    <mat-radio-button value="1" [checked]='true'>Rodada</mat-radio-button>
                                    <mat-radio-button value="2" >Data do Jogo</mat-radio-button>

                                </mat-radio-group>
                            </div>
                            </div>
                            <div class="d-flex flex-direction-sm-collum align-form mb-3">
                                <div class="fill-sm mr-lg-3" style="font-size: 12px">
                                    <mat-form-field [style.width.%]="100" appearance="outline">
                                        <mat-label>Selecione um campeonato...</mat-label>
                                        <mat-select [(ngModel)]="campeonatoId" [formControl]="filtroCampeonato">
                                            <mat-option *ngFor="let camp of campeonatos" value="{{camp.id}}">{{camp.nome}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="fill-sm" *ngIf="filterRadio == 1 && campeonatoId > 0" style="font-size: 12px">
                                    <mat-form-field  [style.width.%]="100" appearance="outline">
                                        <mat-label>rodada</mat-label>
                                        <mat-select [formControl]="filtroRodada">
                                            <mat-option *ngFor="let rodada of rodadas" value="{{rodada}}">{{rodada}}</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="fill-sm" *ngIf="filterRadio == 2 && campeonatoId > 0" style="font-size: 12px">
                                    <mat-form-field [style.width.%]="100" appearance="outline">
                                        <mat-label>Data do jogo</mat-label>
                                        <input matInput [dropSpecialCharacters]="false" mask="00-00-0000" placeholder="Ex: 01-01-2021" [formControl]="filtroData"/>
                                    </mat-form-field>
                                </div>
                            </div>

                        <div class="mt-4" *ngIf="loadingJogos" [formGroup]="form" (ngSubmit)="cadastrar()">
                            <ng-container formArrayName="jogosF">
                                <ng-container *ngFor="let jogosForm of jogosF.controls; index as i">
                                    <form [formGroup] = "jogosForm" (ngSubmit)="atualizarJogo(i)" class="mb-3">
                                        <mat-card class="shadow">
                                            <div class="d-flex flex-row fill-sm justify-content-center align-content-center align-items-center mb-3 p-2">                                             
                                               
                                                <input class="ml-5 flex-grow-1" style="text-align: center !important; border-style: none !important;" formControlName="dtJogo" readonly />                                                
                                                
                                                <div class="font-icon">
                                                    <div class="icon-preview animate__animated animate__bounce" style="color: green;" *ngIf="jogosForm.valid"><i class="fas fa-check-circle"></i></div>
                                                    <div class="icon-preview animate__animated animate__bounce" style="color: red;" *ngIf="!jogosForm.valid"><i class="fas fa-check-circle"></i></div>
                                                  </div>
                                                
                                            </div>
                                            <div class="d-flex flex-row justify-content-center  mb-4">
                                                <div class="mr-4 fill-sm">
                                                    <div class="d-flex justify-content-center">
                                                        <img src="assets/images/times/{{jogos[i].urlTime1}}" class="size-img-time task-user-img">
                                                    </div>
            
                                                    <div>
                                                        <small class="d-flex justify-content-center">{{jogos[i].nomeTime1}}</small>
                                                    </div>
                                                </div>
                                                <div class="mr-2 fill-sm" style="font-size: 10px;">
                                                    <mat-form-field class="" style="width: 40px; height: 25px;" appearance="outline">
                                                        <input style="text-align: center !important" class="" formControlName="placarTime1" matInput (blur)="atualizarJogo(i)" />
                                                    </mat-form-field>
                                                </div>
                                                <div class="mr-2 mt-3 fill-sm"> VS </div>
            
                                                <div class="mr-4 fill-sm" style="font-size: 10px">
                                                    <mat-form-field class="example-full-width" style="width: 40px; height: 25px;" appearance="outline">
                                                        <input style="text-align: center !important" formControlName="placarTime2" matInput (blur)="atualizarJogo(i)"/>
                                                    </mat-form-field>
                                                </div>
                                                <div class="fill-sm">
                                                    <div class="d-flex justify-content-center">
                                                        <img src="assets/images/times/{{jogos[i].urlTime2}}" class="size-img-time task-user-img">
                                                    </div>
            
                                                    <div>
                                                        <small class="d-flex justify-content-center">{{jogos[i].nomeTime2}}</small>
                                                    </div>
                                                </div>
            
                                            </div>
                                            <div class="d-flex flex-row fill-sm justify-content-center align-content-center align-items-center mb-2">
                                                <div class="fill-sm mr-lg-3" style="font-size: 12px">
                                                    <mat-form-field [style.width.%]="100" appearance="outline">
                                                        <mat-label>Selecione um status...</mat-label>
                                                        <mat-select  formControlName="status" (selectionChange)="atualizarJogo(i)">
                                                            <mat-option value="CRIADO">Criado</mat-option>
                                                            <mat-option value="ANDAMENTO">Andamento</mat-option>
                                                            <mat-option value="ENCERRADO">Encerrado</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                                
                                            </div>
                                            <div class="d-flex flex-row fill-sm justify-content-center align-content-center align-items-center mb-2">
                                                <small style="color: #999;">{{jogos[i].local}}</small>

                                            </div>
                                   
                                        </mat-card>

                                    </form>
                                    

                                </ng-container>                            
                               

                            </ng-container>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>